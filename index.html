<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics handled by cookie-consent.js -->
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://lexcello-backend.onrender.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://lexcello-backend.onrender.com">
    <title>LNAT Practice Tests 2025 | Free Mock Exam + 9 Tests</title>
    <meta name="description" content="Master LNAT Section A with 10 practice tests. Test 1 free, then unlock 9 complete exams. Perfect prep for Oxford, Cambridge, LSE, UCL & Jindal Global Law.">
    <meta name="keywords" content="LNAT practice tests, LNAT mock exam, LNAT preparation, LNAT section A, Oxford law admission, Cambridge law admission, LSE law, LNAT 2025, free LNAT test">
    
<!-- Open Graph / Social Sharing -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://lexcello.com/">
<meta property="og:title" content="LNAT Practice Tests 2025 | Free Mock Exam + 9 Tests">
<meta property="og:description" content="Master LNAT Section A with 10 practice tests. Test 1 free, then unlock 9 complete exams. Perfect prep for Oxford, Cambridge, LSE, UCL & Jindal Global Law.">
<meta property="og:image" content="https://lexcello.com/og-image.png">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="LNAT Practice Tests 2025 | Free Mock Exam + 9 Tests">
<meta name="twitter:description" content="Master LNAT Section A with 10 practice tests for Oxford, Cambridge, LSE & top UK law schools.">
<meta name="twitter:image" content="https://lexcello.com/og-image.png">

<!-- Canonical URL -->
<link rel="canonical" href="https://lexcello.com/">

<!-- Structured Data / Schema.org -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Lexcello",
  "url": "https://lexcello.com",
  "logo": "https://lexcello.com/favicon.png",
  "description": "Expert LNAT preparation platform with practice tests for Oxford, Cambridge, LSE, UCL and top UK law school admissions.",
  "sameAs": [
    "https://instagram.com/lexcello_lnat",
    "https://www.linkedin.com/in/lexcello-lnat-preparation-9417ba385/"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "email": "support@lexcello.com",
    "contactType": "customer support"
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Lexcello",
  "url": "https://lexcello.com",
  "description": "LNAT Practice Tests for UK Law School Admissions",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://lexcello.com/lnat-practice-tests.html?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "Lexcello LNAT Practice Tests",
  "description": "Comprehensive LNAT practice test platform with 10 full-length mock exams (420+ questions) for UK law school admissions to Oxford, Cambridge, LSE, UCL, Durham, and King's College London.",
  "brand": {
    "@type": "Brand",
    "name": "Lexcello"
  },
  "offers": {
    "@type": "AggregateOffer",
    "priceCurrency": "GBP",
    "lowPrice": "0",
    "highPrice": "99",
    "offerCount": "4",
    "offers": [
      {
        "@type": "Offer",
        "name": "Free LNAT Practice Test",
        "price": "0",
        "priceCurrency": "GBP",
        "description": "14-question diagnostic test with detailed explanations"
      },
      {
        "@type": "Offer",
        "name": "Foundation Package (Tests 1-5)",
        "price": "49",
        "priceCurrency": "GBP",
        "description": "5 full-length practice tests with 210 questions"
      },
      {
        "@type": "Offer",
        "name": "Advanced Package (Tests 6-10)",
        "price": "59",
        "priceCurrency": "GBP",
        "description": "5 advanced practice tests with 210 questions"
      },
      {
        "@type": "Offer",
        "name": "Complete Series (Tests 1-10)",
        "price": "99",
        "priceCurrency": "GBP",
        "description": "All 10 practice tests with 420 questions"
      }
    ]
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "7.9",
    "bestRating": "10",
    "worstRating": "1",
    "ratingCount": "115"
  }
}
</script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        :root {
            --primary-color: #1a365d;
            --primary-hover: #2d4a66;
            --secondary-color: #2b6cb0;
            --accent-gold: #d69e2e;
            --text-dark: #1a202c;
            --text-light: #4a5568;
            --bg-light: #f7fafc;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
        }
        
        /* Navigation */
        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1rem 0;
        }
        
        .navbar-brand {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary-color) !important;
            letter-spacing: -1px;
        }
        
        .nav-link {
            font-weight: 500;
            color: var(--text-dark) !important;
            margin: 0 0.5rem;
            transition: color 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--secondary-color) !important;
        }

        /* Added for collapsed navbar background */
        .navbar-collapse.show {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .btn-primary {
            background: var(--secondary-color);
            border: none;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }
        
        .btn-outline-primary {
            color: var(--secondary-color);
            border-color: var(--secondary-color);
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-outline-primary:hover {
            background: var(--secondary-color);
            border-color: var(--secondary-color);
            color: white;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 100px 0 80px;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 300" fill="white" opacity="0.1"><path d="M0,100 C300,200 600,0 1000,100 L1000,300 L0,300 Z"/></svg>') no-repeat bottom;
            background-size: 100% 300px;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .hero h1 {
    font-size: 2.8rem;
    font-weight: 800;
    margin-bottom: 1.5rem;
    line-height: 1.2;
    max-width: 100%;
        }
        
        .hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .hero-stats {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 12px;
            margin-top: 2rem;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
            color: var(--accent-gold);
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* Features Section */
        .features {
            padding: 80px 0;
            background: white;
        }
        
        .feature-card {
            background: white;
            padding: 40px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            height: 100%;
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto 20px;
        }
        
        .feature-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-color);
            text-align: center;
        }
        
        .feature-card p {
            text-align: center;
            color: var(--text-light);
            line-height: 1.6;
        }
        
        /* Tests Overview */
        .tests-section {
            padding: 80px 0;
            background: var(--bg-light);
        }
        
        .test-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .test-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .test-status {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .status-available {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .status-coming-soon {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .test-card h4 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .test-details {
            margin-bottom: 20px;
        }
        
        .test-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .detail-label {
            color: var(--text-light);
        }
        
        .detail-value {
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .test-action {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            border: none;
            transition: all 0.3s ease;
        }
        
        .btn-available {
            background: var(--secondary-color);
            color: white;
        }
        
        .btn-available:hover {
            background: var(--primary-hover);
        }
        
        .btn-disabled {
            background: #e2e8f0;
            color: #a0aec0;
            cursor: not-allowed;
        }
        
        /* Loading state */
        .loading-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            text-align: center;
            color: var(--text-light);
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--secondary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* CTA Section */
        .cta-section {
            background: var(--primary-color);
            color: white;
            padding: 80px 0;
        }
        
        .cta-content {
            text-align: center;
        }
        
        .cta-content h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .cta-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .btn-cta {
            background: var(--accent-gold);
            color: var(--primary-color);
            border: none;
            padding: 16px 32px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .btn-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(214, 158, 46, 0.4);
        }
        
        /* Footer */
        .footer {
            background: #1a202c;
            color: white;
            padding: 60px 0 40px;
        }
        
        .footer-links {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: #a0aec0;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .footer-bottom {
            border-top: 1px solid #2d3748;
            padding-top: 30px;
            text-align: center;
            color: #718096;
        }
        
        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 9999;
            opacity: 0;
            transform: translateX(300px);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .notification.success {
            background: #28a745;
        }
        
        .notification.error {
            background: #dc3545;
        }
        
        .notification.info {
            background: #17a2b8;
        }
        
        /* User dropdown styles */
        .user-menu {
            position: relative;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .user-avatar:hover {
            background: var(--primary-hover);
        }
        
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            padding: 10px 0;
            min-width: 200px;
            z-index: 1000;
            display: none;
        }
        
        .user-dropdown.show {
            display: block;
        }
        
        .user-dropdown a {
            display: block;
            padding: 10px 20px;
            color: var(--text-dark);
            text-decoration: none;
            transition: background 0.3s ease;
        }
        
        .user-dropdown a:hover {
            background: var(--bg-light);
        }
        
        .user-dropdown .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 5px 0;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .navbar-brand {
                font-size: 1.5rem;
            }
            
            .hero-stats {
                margin-top: 1rem;
            }
        }
        /* Skeleton Loading Animation */
.skeleton {
    background: linear-gradient(90deg, #e2e8f0 25%, #edf2f7 50%, #e2e8f0 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
    border-radius: 4px;
}

@keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.skeleton-card {
    background: white;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
}

.skeleton-badge {
    width: 80px;
    height: 24px;
    margin-bottom: 15px;
}

.skeleton-title {
    width: 70%;
    height: 24px;
    margin-bottom: 20px;
}

.skeleton-line {
    height: 16px;
    margin-bottom: 12px;
}

.skeleton-line.short { width: 40%; }
.skeleton-line.medium { width: 60%; }
.skeleton-line.long { width: 80%; }

.skeleton-button {
    width: 100%;
    height: 48px;
    margin-top: 10px;
}

/* Trust Section */
.university-badge {
    background: white;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    font-size: 0.95rem;
}

.trust-stat {
    color: var(--text-light);
    font-size: 0.95rem;
}

.trust-stat span {
    font-weight: 700;
    color: var(--text-dark);
}
        /* Focus Styles for Accessibility */
.btn:focus,
.btn:focus-visible {
    outline: 3px solid var(--accent-gold);
    outline-offset: 2px;
    box-shadow: none;
}

.nav-link:focus,
.nav-link:focus-visible {
    outline: 2px solid var(--secondary-color);
    outline-offset: 2px;
    border-radius: 4px;
}

.user-avatar:focus,
.user-avatar:focus-visible {
    outline: 3px solid var(--accent-gold);
    outline-offset: 2px;
}

.form-control:focus {
    border-color: var(--secondary-color);
    box-shadow: 0 0 0 3px rgba(43, 108, 176, 0.25);
}

/* Remove default outline but keep custom focus */
*:focus {
    outline: none;
}

*:focus-visible {
    outline: 2px solid var(--secondary-color);
    outline-offset: 2px;
}
       

/* World Map Section */
.world-map-section {
    padding: 40px 0;
    background: white;
    border-top: 1px solid #e2e8f0;
    border-bottom: 1px solid #e2e8f0;
}

.world-map-container {
    position: relative;
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
}

.world-map-title {
    text-align: center;
    margin-bottom: 10px;
}

.world-map-title h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: 5px;
}

.world-map-title p {
    color: var(--text-light);
    font-size: 0.95rem;
}

.world-map-stats {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.map-stat {
    text-align: center;
}

.map-stat-number {
    font-size: 2rem;
    font-weight: 700;
    color: var(--secondary-color);
    display: block;
}

.map-stat-label {
    font-size: 0.85rem;
    color: var(--text-light);
}

#world-map-wrapper {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    background: #f7fafc;
}

#world-map {
    width: 100%;
    height: 400px;
}

/* Leaflet Map Customization */
.leaflet-container {
    background: #f7fafc;
    border-radius: 12px;
}

.leaflet-popup-content-wrapper {
    background: #1a365d;
    color: white;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.leaflet-popup-content {
    margin: 10px 15px;
}

.leaflet-popup-tip {
    background: #1a365d;
}

.leaflet-popup-close-button {
    color: white !important;
}

.map-loading {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-light);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
}

.map-loading .spinner {
    width: 40px;
    height: 40px;
    border: 3px solid #e2e8f0;
    border-top-color: var(--secondary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 15px;
}

.map-legend {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    color: var(--text-light);
}

.legend-color {
    width: 16px;
    height: 16px;
    border-radius: 4px;
}

.legend-color.active {
    background: linear-gradient(135deg, #93c5fd, #1a365d);
}

.legend-color.inactive {
    background: #e2e8f0;
}

.top-countries {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-top: 20px;
}

.top-country-badge {
    background: var(--bg-light);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    color: var(--text-dark);
    display: flex;
    align-items: center;
    gap: 8px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.top-country-badge:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.top-country-badge .country-flag {
    font-size: 1.1rem;
}

.top-country-badge .country-count {
    background: var(--secondary-color);
    color: white;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.75rem;
    font-weight: 600;
}

@media (max-width: 768px) {
    .world-map-stats {
        gap: 20px;
    }
    
    .map-stat-number {
        font-size: 1.5rem;
    }
    
    #world-map {
        height: 280px;
    }
    
    .map-legend {
        gap: 15px;
    }
    
    .top-countries {
        gap: 10px;
    }
    
    .top-country-badge {
        padding: 6px 12px;
        font-size: 0.8rem;
    }
}
    </style>
</head>
<body>
    <!-- Navigation -->
    <!-- Navigation Section - Updated with Blogs -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
        <a class="navbar-brand" href="index.html">Lexcello</a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation menu" aria-controls="navbarNav" aria-expanded="false">
    <span class="navbar-toggler-icon"></span>
</button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#home">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#tests">Practice Tests</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="free-lnat-practice-tests.html">Free Test</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about-lnat.html">About LNAT</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="resources.html">Resources</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="pricing.html">Pricing</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contact.html">Contact</a>
                </li>
            </ul>
            
           <!-- Authentication buttons (shown when not logged in) -->
            <div class="d-flex gap-2" id="auth-buttons" style="display: none;">
                <button class="btn btn-outline-primary" onclick="signIn()">Sign In</button>
                <button class="btn btn-primary" onclick="getStarted()">Get Started</button>
            </div>
            
            <!-- User menu (shown when logged in) -->
            <div class="user-menu" id="user-menu" style="display: none;">
                <div class="user-avatar" onclick="toggleUserDropdown()" id="user-avatar" role="button" tabindex="0" aria-label="User menu" aria-haspopup="true" aria-expanded="false" onkeypress="if(event.key==='Enter')toggleUserDropdown()">
    U
</div>
                <div class="user-dropdown" id="user-dropdown">
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                    </a>
                    <a href="profile.html">
                        <i class="fas fa-user me-2"></i>Profile
                    </a>
                    <a href="test-history.html">
                        <i class="fas fa-history me-2"></i>Test History
                    </a>
                    <div class="divider"></div>
                    <a href="#" onclick="signOut()">
                        <i class="fas fa-sign-out-alt me-2"></i>Sign Out
                    </a>
                </div>
            </div>
            
            <!-- Auth loading placeholder -->
            <div id="auth-loading" class="d-flex align-items-center">
                <div class="spinner-border spinner-border-sm text-secondary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>
</nav>
    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1>LNAT Practice Tests 2025<br>Prepare for Oxford, Cambridge & Top UK Law Schools</h1>
                        <p>Master LNAT Section A with our comprehensive practice test platform. Start with Test 1 free, then access 9 premium tests designed for Oxford, Cambridge, LSE, UCL, Durham, KCL and Jindal Global Law admissions. Get detailed analytics and expert explanations for every question.</p>
                        
                        <div class="d-flex gap-3">
                        <button class="btn btn-light btn-lg" onclick="window.location.href='free-lnat-practice-tests.html'">
                            <i class="fas fa-play me-2"></i>Start Free Practice Test
                        </button>
                        <button class="btn btn-outline-light btn-lg" onclick="learnAboutLNAT()">
                        <i class="fas fa-info-circle me-2"></i>About LNAT
                        </button>
                    </div>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="hero-stats">
                        <div class="row">
                            <div class="col-4">
                                <div class="stat-item">
                                    <span class="stat-number">10</span>
                                    <span class="stat-label">Practice Tests</span>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <span class="stat-number">400+</span>
                                    <span class="stat-label">Questions</span>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <span class="stat-number" id="statRating">7.9/10</span>
                                    <span class="stat-label">Student Rating</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- LNAT Practice Tests Info Section -->
    <section class="tests-info" style="padding: 60px 0; background: white;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h2 class="h3 text-primary mb-3">Authentic LNAT Section A Practice Tests for 2025</h2>
                    <p class="mb-3">Our LNAT practice tests are specifically designed for the digital LNAT format introduced in 2024. Each practice test mirrors the authentic LNAT experience with 42 multiple-choice questions, 95-minute time limits, and the same logical reasoning challenges you'll face on test day.</p>
                    <p class="mb-3">Unlike generic practice tests, our LNAT preparation platform provides detailed performance analytics, identifying your strengths in areas like argument analysis, critical reasoning, and logical deduction. Track your progress across multiple LNAT practice tests and receive personalized recommendations.</p>
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span>Authentic digital LNAT format</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span>10 comprehensive practice tests</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span>Detailed performance analytics</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span>Expert explanations for every question</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <div style="background: linear-gradient(135deg, var(--bg-light), white); padding: 30px; border-radius: 15px; border: 2px solid var(--secondary-color);">
                    <h4 class="text-primary mb-3">Start Your LNAT Prep</h4>
                    <p class="mb-3">Begin with our free practice test to assess your current level</p>
                    <button class="btn btn-primary" onclick="window.location.href='free-lnat-practice-tests.html'">
                    <i class="fas fa-play me-2"></i>Take Free Diagnostic
                </button>
                </div>
            </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold text-primary">Why Choose Lexcello</h2>
                <p class="lead">Comprehensive LNAT preparation designed for success</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>Authentic LNAT Questions</h3>
                        <p>Practice with questions that mirror the real LNAT format, difficulty, and style. Developed by legal education experts.</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Detailed Analytics</h3>
                        <p>Track your progress with comprehensive performance analysis, identifying strengths and areas for improvement.</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>Timed Practice</h3>
                        <p>Experience real test conditions with authentic timing constraints to build confidence and time management skills.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================
     STEP 2: REPLACE YOUR TRUST SECTION WITH THIS HTML
     
     DELETE the existing Trust Indicators Section that starts with:
     <section class="trust-section" style="padding: 50px 0; background: var(--bg-light);">
     
     And ends just before:
     <section class="tests-section" id="tests">
     
     Then paste this entire code in its place.
     ============================================ -->

<!-- Trust Indicators Section with World Map -->
<section class="trust-section" style="padding: 50px 0; background: var(--bg-light);">
    <div class="container">
        <!-- University Badges -->
        <div class="text-center mb-4">
            <p class="text-muted mb-3">Preparing students for admission to</p>
            <div class="d-flex flex-wrap justify-content-center align-items-center gap-4">
                <div class="university-badge">
                    <i class="fas fa-university me-2"></i>Oxford
                </div>
                <div class="university-badge">
                    <i class="fas fa-university me-2"></i>Cambridge
                </div>
                <div class="university-badge">
                    <i class="fas fa-university me-2"></i>LSE
                </div>
                <div class="university-badge">
                    <i class="fas fa-university me-2"></i>UCL
                </div>
                <div class="university-badge">
                    <i class="fas fa-university me-2"></i>Durham
                </div>
                <div class="university-badge">
                    <i class="fas fa-university me-2"></i>King's College
                </div>
            </div>
        </div>
        
        <!-- World Map Section -->
        <div class="world-map-section mt-5">
            <div class="world-map-container">
                <div class="world-map-title">
                    <h3><i class="fas fa-globe-americas me-2"></i>Our Global Community</h3>
                    <p>Students from around the world trust Lexcello for their LNAT preparation</p>
                </div>
                
                <!-- Stats - Populated dynamically -->
                <div class="world-map-stats" id="map-stats">
                    <div class="map-stat">
                        <span class="map-stat-number" id="total-countries">--</span>
                        <span class="map-stat-label">Countries</span>
                    </div>
                    <div class="map-stat">
    <span class="map-stat-number" id="total-questions">-</span>
    <span class="map-stat-label">Questions Answered</span>
</div>
                    <div class="map-stat">
                        <span class="map-stat-number">6</span>
                        <span class="map-stat-label">Continents</span>
                    </div>
                </div>
                
                <!-- Map Container -->
<div id="world-map-wrapper">
    <div class="map-loading" id="map-loading">
        <div class="spinner"></div>
        <p>Loading global presence...</p>
    </div>
    <div id="world-map" style="width: 100%; height: 400px;"></div>
</div>
                
                <!-- Tooltip -->
                <div class="map-tooltip" id="map-tooltip">
                    <div class="tooltip-country"></div>
                    <div class="tooltip-count"></div>
                </div>
                
                <!-- Legend -->
                <div class="map-legend">
                    <div class="legend-item">
                        <div class="legend-color active"></div>
                        <span>Active student community</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color inactive"></div>
                        <span>Coming soon</span>
                    </div>
                </div>
                
                <!-- Top Countries -->
                <div class="top-countries" id="top-countries">
                    <!-- Populated dynamically by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Original Stats Row -->
        <div class="text-center mt-4">
            <div class="d-flex justify-content-center gap-4 flex-wrap">
                <div class="trust-stat">
                    <i class="fas fa-users text-primary me-2"></i>
                    <span id="trust-students">100+</span> Students Practicing
                </div>
                <div class="trust-stat">
                    <i class="fas fa-star text-warning me-2"></i>
                    <span>7.9</span>/10 Average Rating
                </div>
                <div class="trust-stat">
                    <i class="fas fa-check-circle text-success me-2"></i>
                    420+ Practice Questions
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Practice Tests Section -->
    <section class="tests-section" id="tests">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold text-primary">10 LNAT Practice Tests</h2>
                <p class="lead">Complete series of 10 expert LNAT practice tests - start with our free diagnostic, then access premium preparation materials</p>
            </div>
            
            <!-- This row will be populated dynamically by JavaScript -->
            <div class="row g-4">
                <div class="col-12">
                    <div class="loading-card">
                        <div class="loading-spinner"></div>
                        Loading practice tests...
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-5">
                <div class="alert alert-info d-inline-block">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Loading test information...</strong>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Excel at the LNAT?</h2>
                <p>Join thousands of students who've improved their LNAT scores with our expert practice tests.</p>
                <button class="btn btn-cta" onclick="startPreparation()">
                    <i class="fas fa-rocket me-2"></i>Start Your Preparation Today
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <h5 class="fw-bold mb-3">Lexcello</h5>
                <p class="text-light">Expert LNAT preparation platform designed to help aspiring law students excel in their admissions journey.</p>
                <div class="footer-links">
                    <a href="https://instagram.com/lexcello_lnat" target="_blank"><i class="fab fa-instagram me-2"></i>Instagram</a>
                    <a href="https://www.linkedin.com/in/lexcello-lnat-preparation-9417ba385/" target="_blank"><i class="fab fa-linkedin me-2"></i>LinkedIn</a>
                    <a href="contact.html"><i class="fas fa-envelope me-2"></i>Contact</a>
                </div>
            </div>
            
            <div class="col-lg-2 col-6 mb-4">
                <h6 class="fw-bold mb-3">Platform</h6>
                <div class="footer-links flex-column d-flex">
                    <a href="#tests">Practice Tests</a>
                    <a href="dashboard.html">Performance Analytics</a>
                    <a href="about-lnat.html">Study Resources</a>
                    <a href="#tests">Mock Exams</a>
                </div>
            </div>
            
            <div class="col-lg-2 col-6 mb-4">
                <h6 class="fw-bold mb-3">Resources</h6>
                <div class="footer-links flex-column d-flex">
                    <a href="about-lnat.html">LNAT Guide</a>
                    <a href="about-lnat.html#format">Test Format</a>
                    <a href="about-lnat.html#scoring">Scoring</a>
                    <a href="pricing.html#faq">FAQ</a>
                </div>
            </div>
            
            <div class="col-lg-4 mb-4">
    <h6 class="fw-bold mb-3">Stay Updated</h6>
    <p>Get notified when new practice tests are released.</p>
    <div class="input-group">
        <input type="email" class="form-control" id="newsletter-email" placeholder="Enter your email" onkeypress="if(event.key==='Enter')subscribeNewsletter()">
        <button class="btn btn-primary" id="newsletter-btn" onclick="subscribeNewsletter()">Subscribe</button>
    </div>
    <div id="newsletter-message" style="margin-top: 10px; font-size: 0.9rem;"></div>
</div>
        </div>
        
        <div class="footer-bottom">
            <div class="text-center">
                <div class="footer-links mb-3 d-flex justify-content-center flex-wrap gap-3">
                    <a href="index.html">Home</a>
                    <a href="free-lnat-practice-tests.html">Free Practice Test</a>
                    <a href="about-lnat.html">About LNAT</a>
                    <a href="pricing.html">Pricing</a>
                    <a href="contact.html">Contact</a>
                    <a href="privacy-policy.html">Privacy Policy</a>
                    <a href="terms-of-service.html">Terms of Service</a>
                </div>
                <p>&copy; 2024 Lexcello. All rights reserved. LNATÂ® is a trademark of the LNAT Consortium.</p>
            </div>
        </div>
    </div>
</footer>
    <!-- Notification container -->
    <div id="notification" class="notification" role="alert" aria-live="polite"></div>


    <!-- Cookie Consent (handles banner + GA loading) -->
    <script src="cookie-consent.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Configuration
        const API_BASE_URL = 'https://lexcello-backend.onrender.com/api';
        
        // State management
        let currentUser = null;
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthStatus();
            loadTestsStatus();
            loadFeedbackStats();
            
            // Add click listener to close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                const userMenu = document.getElementById('user-menu');
                const dropdown = document.getElementById('user-dropdown');
                
                if (userMenu && !userMenu.contains(event.target)) {
                    dropdown.classList.remove('show');
                }
            });
        });
        
        // Load live feedback stats
        async function loadFeedbackStats() {
            try {
                const response = await fetch('https://lexcello-backend.onrender.com/api/public/feedback-summary');
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.statistics) {
                        const ratingEl = document.getElementById('statRating');
                        if (ratingEl) {
                            ratingEl.textContent = data.statistics.averageRating + '/10';
                        }
                    }
                }
            } catch (error) {
                console.error('Error loading feedback stats:', error);
                // Fallback already shows 7.9/10
            }
        }
        
        // Load test status dynamically
        async function loadTestsStatus() {
            try {
                // Show loading state
                showLoadingState();
                
                const testStatuses = await checkTestContent();
                updateTestsSection(testStatuses);
                updateHeroStats(testStatuses);
            } catch (error) {
                console.error('Error loading test status:', error);
                showErrorState();
            }
        }
        
        // Show loading state
        function showLoadingState() {
    const testsContainer = document.querySelector('.tests-section .row.g-4');
    let skeletonCards = '';
    
    // Generate 4 skeleton cards (2 rows of 2)
    for (let i = 0; i < 4; i++) {
        skeletonCards += `
            <div class="col-lg-6">
                <div class="skeleton-card">
                    <div class="skeleton skeleton-badge"></div>
                    <div class="skeleton skeleton-title"></div>
                    <div class="skeleton skeleton-line long"></div>
                    <div class="skeleton skeleton-line medium"></div>
                    <div class="skeleton skeleton-line short"></div>
                    <div class="skeleton skeleton-button"></div>
                </div>
            </div>
        `;
    }
    
    testsContainer.innerHTML = skeletonCards;
}
        
        // Show error state
        function showErrorState() {
            const testsContainer = document.querySelector('.tests-section .row.g-4');
            testsContainer.innerHTML = `
                <div class="col-12">
                    <div class="alert alert-warning text-center">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Unable to load test information.</strong><br>
                        Please refresh the page or try again later.
                        <br><br>
                        <button class="btn btn-primary" onclick="loadTestsStatus()">
                            <i class="fas fa-refresh me-2"></i>Try Again
                        </button>
                    </div>
                </div>
            `;
        }
        
        // Check which tests actually have questions
        async function checkTestContent() {
            const testStatuses = {};
            
            // Check tests 1-10 for content
            for (let testId = 1; testId <= 10; testId++) {
                try {
                    const response = await fetch(`${API_BASE_URL}/tests/${testId}/status`);
                    
                    if (response.ok) {
                        const data = await response.json();
                        let questionCount = 0;
                        
                        // Handle different response formats
                    if (data.questionCount !== undefined) {
                        questionCount = data.questionCount;
                        } else if (Array.isArray(data)) {
                            questionCount = data.length;
                        } else if (data.questions && Array.isArray(data.questions)) {
                            questionCount = data.questions.length;
                        } else if (data.message && data.message.includes('questions found')) {
                            const match = data.message.match(/(\d+)\s+questions?\s+found/i);
                            questionCount = match ? parseInt(match[1]) : 0;
                        } else if (data.count !== undefined) {
                            questionCount = data.count;
                        }
                        
                        testStatuses[testId] = {
                            hasContent: questionCount > 0,
                            questionCount: questionCount,
                            status: questionCount > 0 ? 'available' : 'empty'
                        };
                    } else {
                        testStatuses[testId] = {
                            hasContent: false,
                            questionCount: 0,
                            status: 'empty'
                        };
                    }
                } catch (error) {
                    testStatuses[testId] = {
                        hasContent: false,
                        questionCount: 0,
                        status: 'error'
                    };
                }
            }
            
            return testStatuses;
        }
        
        // Update the tests section with dynamic data
        function updateTestsSection(testStatuses) {
            const testsWithContent = Object.values(testStatuses).filter(s => s.hasContent).length;
            const testsWithoutContent = 10 - testsWithContent;
            
            // Update section description
            const sectionDescription = document.querySelector('.tests-section .lead');
            if (testsWithContent === 0) {
                sectionDescription.textContent = 'Complete series of 10 practice tests - all coming soon';
            } else if (testsWithContent === 1) {
                sectionDescription.textContent = `Complete series of 10 practice tests - ${testsWithContent} available now, ${testsWithoutContent} more coming soon`;
            } else {
                sectionDescription.textContent = `Complete series of 10 practice tests - ${testsWithContent} available now, ${testsWithoutContent} more coming soon`;
            }
            
            // Generate test cards dynamically
            generateTestCards(testStatuses);
            
            // Update bottom notification
            const bottomAlert = document.querySelector('.tests-section .alert');
            if (testsWithoutContent > 0) {
                bottomAlert.innerHTML = `
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>${testsWithoutContent} additional practice tests coming soon!</strong> Sign up to be notified when they're released.
                `;
                bottomAlert.className = 'alert alert-info d-inline-block';
            } else {
                bottomAlert.innerHTML = `
                    <i class="fas fa-check-circle me-2"></i>
                    <strong>All 10 practice tests are now available!</strong> Start your comprehensive LNAT preparation.
                `;
                bottomAlert.className = 'alert alert-success d-inline-block';
            }
        }
        
        // Generate test cards dynamically
        function generateTestCards(testStatuses) {
            const testsContainer = document.querySelector('.tests-section .row.g-4');
            
            // Clear existing content
            testsContainer.innerHTML = '';
            
            // Test configuration
            const testConfigs = {
                1: { name: 'Foundation', difficulty: 'Beginner-Intermediate' },
                2: { name: 'Building Skills', difficulty: 'Intermediate' },
                3: { name: 'Advanced', difficulty: 'Advanced' },
                4: { name: 'Mock Exam', difficulty: 'Full Exam Simulation' },
                5: { name: 'Strategic Practice', difficulty: 'Intermediate-Advanced' },
                6: { name: 'Critical Thinking', difficulty: 'Advanced' },
                7: { name: 'Final Preparation', difficulty: 'Advanced' },
                8: { name: 'Master Challenge', difficulty: 'Expert Level' },
                9: { name: 'Comprehensive Review', difficulty: 'Full Exam Simulation' },
                10: { name: 'Ultimate Test', difficulty: 'Expert Level' }
            };
            
            // Generate cards for tests 1-10
            for (let testId = 1; testId <= 10; testId++) {
                const status = testStatuses[testId] || { hasContent: false, questionCount: 0, status: 'empty' };
                const config = testConfigs[testId];
                
                const cardHtml = `
                    <div class="col-lg-6">
                        <div class="test-card">
                            <div class="test-status ${status.hasContent ? 'status-available' : 'status-coming-soon'}">
                                ${status.hasContent ? 'Available' : 'Coming Soon'}
                            </div>
                            <h4>Practice Test ${testId} - ${config.name}</h4>
                            <div class="test-details">
                                <div class="test-detail">
                                    <span class="detail-label">Questions:</span>
                                    <span class="detail-value">${status.hasContent ? status.questionCount : '42'} Multiple Choice</span>
                                </div>
                                <div class="test-detail">
                                    <span class="detail-label">Time Limit:</span>
                                    <span class="detail-value">95 Minutes</span>
                                </div>
                                <div class="test-detail">
                                    <span class="detail-label">Difficulty:</span>
                                    <span class="detail-value">${config.difficulty}</span>
                                </div>
                            </div>
                            <button class="test-action ${status.hasContent ? 'btn-available' : 'btn-disabled'}" 
                                    ${status.hasContent ? `onclick="startTestFromHomepage(${testId})"` : 'disabled'}>
                                ${status.hasContent ? 'Start Practice Test' : 'Coming Soon'}
                            </button>
                        </div>
                    </div>
                `;
                
                testsContainer.insertAdjacentHTML('beforeend', cardHtml);
            }
        }
        
        // Update hero section stats
        function updateHeroStats(testStatuses) {
            const testsWithContent = Object.values(testStatuses).filter(s => s.hasContent).length;
            const totalQuestions = Object.values(testStatuses).reduce((sum, test) => sum + test.questionCount, 0);
            
            // Update stats in hero section
            const statNumbers = document.querySelectorAll('.stat-number');
            if (statNumbers[0]) statNumbers[0].textContent = testsWithContent || '10';
            if (statNumbers[1]) statNumbers[1].textContent = totalQuestions > 0 ? `${totalQuestions}+` : '400+';
            
            // Update labels if needed
            const statLabels = document.querySelectorAll('.stat-label');
            if (statLabels[0] && testsWithContent === 1) {
                statLabels[0].textContent = 'Practice Test';
            } else if (statLabels[0]) {
                statLabels[0].textContent = 'Practice Tests';
            }
        }
        
        // Start test from homepage
function startTestFromHomepage(testNumber) {
    if (!currentUser) {
        showNotification('Please sign in to access practice tests', 'info');
        window.location.href = 'login.html';
        return;
    }
    
    if (testNumber > 1 && currentUser.subscriptionStatus !== 'premium') {
        showNotification('Premium subscription required for this test', 'info');
        window.location.href = 'pricing.html';
        return;
    }
    
    window.location.href = `practice-test-1.html${testNumber > 1 ? '?test=' + testNumber : ''}`;
}
        
        // Authentication functions
        async function checkAuthStatus() {
            const token = localStorage.getItem('authToken');
            if (token) {
                try {
                    const response = await fetch(`${API_BASE_URL}/auth/profile`, {
                        method: 'GET',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        const userData = await response.json();
                        updateUIForLoggedInUser(userData);
                    } else {
                        // Token is invalid, remove it
                        localStorage.removeItem('authToken');
                        updateUIForLoggedOutUser();
                    }
                } catch (error) {
                    console.error('Error checking auth status:', error);
                    updateUIForLoggedOutUser();
                }
            } else {
                updateUIForLoggedOutUser();
            }
        }
        
        function updateUIForLoggedInUser(userData) {
    currentUser = userData;
    
    // Hide loading, hide auth buttons, show user menu
    document.getElementById('auth-loading').style.display = 'none';
    document.getElementById('auth-buttons').style.display = 'none';
    document.getElementById('user-menu').style.display = 'block';
    
    // Update user avatar with first letter of name or email
    const userAvatar = document.getElementById('user-avatar');
    const firstLetter = (userData.name || userData.email || 'U').charAt(0).toUpperCase();
    userAvatar.textContent = firstLetter;
    userAvatar.title = userData.email || 'User';
}
        
        function updateUIForLoggedOutUser() {
    currentUser = null;
    
    // Hide loading, show auth buttons, hide user menu
    document.getElementById('auth-loading').style.display = 'none';
    document.getElementById('auth-buttons').style.display = 'flex';
    document.getElementById('user-menu').style.display = 'none';
}
        
        function toggleUserDropdown() {
    const dropdown = document.getElementById('user-dropdown');
    const avatar = document.getElementById('user-avatar');
    const isOpen = dropdown.classList.toggle('show');
    avatar.setAttribute('aria-expanded', isOpen);
}
        
        async function signOut() {
            try {
                // Call logout endpoint if available
                const token = localStorage.getItem('authToken');
                if (token) {
                    await fetch(`${API_BASE_URL}/auth/logout`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        }
                    });
                }
            } catch (error) {
                console.error('Error during logout:', error);
            } finally {
                // Always clean up local storage and update UI
                localStorage.removeItem('authToken');
                updateUIForLoggedOutUser();
                showNotification('Successfully signed out', 'success');
                
                // Redirect to home if on a protected page
                if (window.location.pathname.includes('dashboard') || 
                    window.location.pathname.includes('profile')) {
                    window.location.href = 'index.html';
                }
            }
        }
        
        // Navigation functions
        function signIn() {
            window.location.href = 'login.html';
        }
        
        function getStarted() {
            // Check if user is logged in
            if (currentUser) {
                // Check subscription status
                if (currentUser.subscriptionStatus === 'premium') {
                    window.location.href = 'dashboard.html';
                } else {
                    // User is logged in but needs premium - go to pricing
                    window.location.href = 'pricing.html';
                }
            } else {
                window.location.href = 'register.html';
            }
        }
        
        function startPracticeTest() {
            // Check if user is logged in
            if (currentUser) {
                // Check if user has premium access
                if (currentUser.subscriptionStatus === 'premium') {
                    window.location.href = 'practice-test-1.html';
                } else {
                    showNotification('Premium subscription required for full access', 'info');
                    window.location.href = 'pricing.html';
                }
            } else {
                showNotification('Please sign in to access practice tests', 'info');
                window.location.href = 'login.html';
            }
        }
        
        function learnAboutLNAT() {
            window.location.href = 'about-lnat.html';
        }
        
        function viewTestDetails(testNumber) {
            // For any test that has content, redirect based on subscription
            if (currentUser) {
                if (testNumber === 1 || currentUser.subscriptionStatus === 'premium') {
                    window.location.href = `practice-test-1.html${testNumber > 1 ? '?test=' + testNumber : ''}`;
                } else {
                    showNotification('Premium subscription required for this test', 'info');
                    window.location.href = 'pricing.html';
                }
            } else {
                showNotification('Please sign in to access practice tests', 'info');
                window.location.href = 'login.html';
            }
        }
        
        function startPreparation() {
            if (currentUser) {
                // Check subscription status
                if (currentUser.subscriptionStatus === 'premium') {
                    window.location.href = 'dashboard.html';
                } else {
                    // User needs to upgrade
                    window.location.href = 'pricing.html';
                }
            } else {
                window.location.href = 'register.html';
            }
        }
        
        // Utility functions
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Smooth scrolling for internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        // Newsletter subscription
async function subscribeNewsletter() {
    const emailInput = document.getElementById('newsletter-email');
    const btn = document.getElementById('newsletter-btn');
    const messageDiv = document.getElementById('newsletter-message');
    const email = emailInput.value.trim();
    
    // Validate email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email || !emailRegex.test(email)) {
        messageDiv.innerHTML = '<span style="color: #f56565;">Please enter a valid email address</span>';
        return;
    }
    
    // Show loading state
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
    messageDiv.innerHTML = '';
    
    try {
        const response = await fetch('https://lexcello-backend.onrender.com/api/newsletter/subscribe', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email })
        });
        
        const data = await response.json();
        
        if (response.ok && data.success) {
            messageDiv.innerHTML = '<span style="color: #48bb78;">â ' + data.message + '</span>';
            emailInput.value = '';
        } else {
            messageDiv.innerHTML = '<span style="color: #f56565;">' + (data.error || 'Subscription failed') + '</span>';
        }
    } catch (error) {
        messageDiv.innerHTML = '<span style="color: #f56565;">Network error. Please try again.</span>';
    } finally {
        btn.disabled = false;
        btn.innerHTML = 'Subscribe';
    }
}
    </script>
    
<script>
// ============================================
// WORLD MAP WITH LEAFLET.JS
// Professional map with real country shapes
// ============================================

const worldMapData = {
    countries: {},
    summary: null
};

// Country code to flag emoji mapping
const countryFlags = {
    'GB': 'ð¬ð§', 'IN': 'ð®ð³', 'GR': 'ð¬ð·', 'FR': 'ð«ð·', 'SG': 'ð¸ð¬',
    'US': 'ðºð¸', 'CA': 'ð¨ð¦', 'IT': 'ð®ð¹', 'TR': 'ð¹ð·', 'RO': 'ð·ð´',
    'AU': 'ð¦ðº', 'FI': 'ð«ð®', 'AE': 'ð¦ðª', 'MY': 'ð²ð¾', 'KW': 'ð°ð¼',
    'LB': 'ð±ð§', 'CO': 'ð¨ð´', 'AR': 'ð¦ð·', 'LV': 'ð±ð»', 'CH': 'ð¨ð­',
    'AZ': 'ð¦ð¿', 'JO': 'ð¯ð´', 'GE': 'ð¬ðª', 'BR': 'ð§ð·', 'BE': 'ð§ðª',
    'IR': 'ð®ð·', 'DZ': 'ð©ð¿', 'PK': 'ðµð°', 'IL': 'ð®ð±', 'PH': 'ðµð­',
    'SN': 'ð¸ð³', 'ZM': 'ð¿ð²', 'DE': 'ð©ðª', 'MU': 'ð²ðº', 'KH': 'ð°ð­',
    'AT': 'ð¦ð¹', 'SE': 'ð¸ðª'
};

// Country coordinates [latitude, longitude]
const countryCoords = {
    'GB': [54.0, -2.0], 'IN': [21.0, 78.0], 'GR': [39.0, 22.0], 'FR': [46.0, 2.0], 'SG': [1.3, 103.8],
    'US': [38.0, -97.0], 'CA': [56.0, -106.0], 'IT': [42.0, 12.0], 'TR': [39.0, 35.0], 'RO': [46.0, 25.0],
    'AU': [-25.0, 134.0], 'FI': [64.0, 26.0], 'AE': [24.0, 54.0], 'MY': [4.0, 102.0], 'KW': [29.5, 48.0],
    'LB': [34.0, 36.0], 'CO': [4.0, -72.0], 'AR': [-34.0, -64.0], 'LV': [57.0, 25.0], 'CH': [47.0, 8.0],
    'AZ': [40.0, 47.0], 'JO': [31.0, 36.0], 'GE': [42.0, 44.0], 'BR': [-10.0, -55.0], 'BE': [51.0, 4.0],
    'IR': [32.0, 53.0], 'DZ': [28.0, 2.0], 'PK': [30.0, 69.0], 'IL': [31.0, 35.0], 'PH': [13.0, 122.0],
    'SN': [14.0, -14.0], 'ZM': [-15.0, 28.0], 'DE': [51.0, 10.0], 'MU': [-20.0, 58.0], 'KH': [13.0, 105.0],
    'AT': [47.0, 14.0], 'SE': [62.0, 15.0]
};

let leafletMap = null;

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    loadWorldMapData();
});

// Fetch country data from API
async function loadWorldMapData() {
    try {
        const response = await fetch('https://lexcello-backend.onrender.com/api/public/user-countries');
        
        if (!response.ok) {
            throw new Error('Failed to fetch country data');
        }
        
        const data = await response.json();
        
        if (data.success && data.data) {
            // Store data
            data.data.countries.forEach(country => {
                worldMapData.countries[country.code] = {
                    name: country.name,
                    count: country.count
                };
            });
            worldMapData.summary = data.data.summary;
            
            // Update UI
            updateMapStats();
            renderLeafletMap();
            renderTopCountries();
        } else {
            throw new Error('Invalid data format');
        }
        
    } catch (error) {
        console.error('Error loading world map data:', error);
        showMapFallback();
    }
}

// Update stats display
function updateMapStats() {
    if (worldMapData.summary) {
        document.getElementById('total-countries').textContent = worldMapData.summary.totalCountries;
        document.getElementById('total-questions').textContent = worldMapData.summary.totalQuestions.toLocaleString() + '+';
        
        const trustStudents = document.getElementById('trust-students');
        if (trustStudents) {
            trustStudents.textContent = worldMapData.summary.totalUsers + '+';
        }
    }
}

// Render top countries badges
function renderTopCountries() {
    const container = document.getElementById('top-countries');
    if (!container || !worldMapData.summary || !worldMapData.summary.topCountries) return;
    
    const html = worldMapData.summary.topCountries.map(country => {
        const flag = countryFlags[country.code] || 'ð';
        return `
            <div class="top-country-badge">
                <span class="country-flag">${flag}</span>
                <span>${country.name}</span>
                <span class="country-count">${country.count}</span>
            </div>
        `;
    }).join('');
    
    container.innerHTML = html;
}

// Render Leaflet map
function renderLeafletMap() {
    const loading = document.getElementById('map-loading');
    const mapContainer = document.getElementById('world-map');
    
    if (!mapContainer) return;
    if (loading) loading.style.display = 'none';
    
    // Initialize the map
    leafletMap = L.map('world-map', {
        center: [30, 10],
        zoom: 2,
        minZoom: 1,
        maxZoom: 5,
        scrollWheelZoom: false,
        dragging: true,
        zoomControl: true
    });
    
    // Add map tiles (CartoDB Positron - clean, light style)
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; OpenStreetMap &copy; CARTO',
        subdomains: 'abcd',
        maxZoom: 19
    }).addTo(leafletMap);
    
    // Get max count for scaling markers
    const counts = Object.values(worldMapData.countries).map(c => c.count);
    const maxCount = Math.max(...counts, 1);
    
    // Add markers for each country with users
    Object.keys(worldMapData.countries).forEach(code => {
        const coords = countryCoords[code];
        if (coords) {
            const country = worldMapData.countries[code];
            const flag = countryFlags[code] || 'ð';
            
            // Calculate marker size based on count
            const baseSize = 10;
            const maxSize = 30;
            const size = baseSize + (country.count / maxCount) * (maxSize - baseSize);
            
            // Create custom circle marker
            const marker = L.circleMarker(coords, {
                radius: size,
                fillColor: '#2b6cb0',
                color: '#1a365d',
                weight: 2,
                opacity: 1,
                fillOpacity: 0.7
            }).addTo(leafletMap);
            
            // Add popup with country info
            marker.bindPopup(`
                <div style="text-align: center; font-family: 'Segoe UI', sans-serif;">
                    <strong style="font-size: 16px;">${flag} ${country.name}</strong><br>
                    <span style="color: #d69e2e; font-weight: 600; font-size: 14px;">${country.count} student${country.count > 1 ? 's' : ''}</span>
                </div>
            `, {
                className: 'custom-popup'
            });
            
            // Hover effect
            marker.on('mouseover', function() {
                this.setStyle({
                    fillColor: '#d69e2e',
                    fillOpacity: 0.9
                });
                this.openPopup();
            });
            
            marker.on('mouseout', function() {
                this.setStyle({
                    fillColor: '#2b6cb0',
                    fillOpacity: 0.7
                });
                this.closePopup();
            });
        }
    });
}

// Fallback if API fails
function showMapFallback() {
    const loading = document.getElementById('map-loading');
    const mapContainer = document.getElementById('world-map');
    
    if (loading) loading.style.display = 'none';
    
    if (mapContainer) {
        mapContainer.innerHTML = `
            <div class="text-center py-5" style="background: #f7fafc; border-radius: 12px;">
                <p class="text-muted mb-3">Students from around the world</p>
                <div class="d-flex flex-wrap justify-content-center gap-2">
                    <span class="badge bg-primary p-2">ð¬ð§ United Kingdom</span>
                    <span class="badge bg-primary p-2">ð®ð³ India</span>
                    <span class="badge bg-primary p-2">ð¬ð· Greece</span>
                    <span class="badge bg-primary p-2">ð«ð· France</span>
                    <span class="badge bg-primary p-2">ð¸ð¬ Singapore</span>
                    <span class="badge bg-primary p-2">ðºð¸ United States</span>
                    <span class="badge bg-primary p-2">ð¨ð¦ Canada</span>
                    <span class="badge bg-primary p-2">ð¦ðº Australia</span>
                    <span class="badge bg-primary p-2">+ 28 more countries</span>
                </div>
            </div>
        `;
    }
    
    const totalCountries = document.getElementById('total-countries');
    const totalUsers = document.getElementById('total-users');
    if (totalCountries) totalCountries.textContent = '36';
    if (totalUsers) totalUsers.textContent = '186+';
}
</script>
</body>
</html>















